# ワードウルフ with あさひくん 🌞

楽しいワードウルフゲームアプリ！あさひくんと一緒にみんなでワードウルフを楽しもう！

## ✨ 特徴

- 🎭 **管理者・プレイヤー分離型** - 管理者は全体を管理し、プレイヤーは個別のページでプレイ
- 📱 **PWA対応** - モバイルアプリのようにインストール可能
- 🔗 **簡単参加** - リンクで名前を入力するだけで参加できる
- ⏱️ **タイマー機能** - 10分のゲームタイマー付き
- 🗳️ **投票機能** - ゲーム終了後に投票できる
- 📊 **結果表示** - 投票結果と正解を表示
- 🎨 **可愛いUI** - あさひくんキャラクターとカラフルなデザイン
- 💾 **ローカルストレージ** - ブラウザにゲーム状態を保存

## 🚀 使い方

### 開発環境のセットアップ

```bash
# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

ブラウザで [http://localhost:3000](http://localhost:3000) を開く

### ゲームの流れ

#### 1. 管理者の準備

1. `/admin` にアクセス
2. 「参加リンク」ボタンをクリックしてプレイヤーにリンクを共有
3. プレイヤーが参加するのを待つ
4. 4人以上集まったら「チーム分け＆ゲーム開始！」をクリック

#### 2. プレイヤーの参加

1. 管理者から送られたリンクをクリック（または `/join` にアクセス）
2. 名前を入力して「ゲームに参加」をクリック
3. 自動的に個人ページにリダイレクトされる
4. ゲーム開始を待つ

#### 3. ゲームプレイ

1. **チーム番号確認** - 画面に表示されるチーム番号の場所に集合
2. **お題確認** - 画面をタップして自分のお題を確認（周りに見られないように！）
3. **仲間探し** - 同じチームのメンバーと話し合って仲間を見つける
4. **投票** - 時間終了後、ウルフだと思う人に投票
5. **結果確認** - 投票結果と正解を確認

#### 4. 管理者の操作

- **タイマー制御** - 一時停止/再開/リセットが可能
- **投票開始** - 手動で投票フェーズに移行
- **次のゲーム** - 新しいゲームを開始

## 📱 PWAとしてインストール

### iOS (Safari)

1. Safariでアプリを開く
2. 共有ボタン（□↑）をタップ
3. 「ホーム画面に追加」を選択
4. 「追加」をタップ

### Android (Chrome)

1. Chromeでアプリを開く
2. メニュー（⋮）をタップ
3. 「ホーム画面に追加」を選択
4. 「追加」をタップ

### デスクトップ (Chrome)

1. Chromeでアプリを開く
2. アドレスバーの右側にある「インストール」アイコンをクリック
3. 「インストール」をクリック

## 🎮 ゲームルール

### 基本ルール

- プレイヤーは3〜4人ずつのチームに分けられます
- 各チームには**市民**と**ウルフ**が1人ずついます
- 市民とウルフには似ているけど微妙に違うお題が与えられます
- 会話を通じて誰がウルフか見つけ出しましょう！

### お題の例

- **学生**: 市民「テスト期間」/ ウルフ「夏休み」
- **最近の出来事**: 市民「最近ちょっと誇れた出来事」/ ウルフ「逆に最近やらかしたこと」
- **愛**: 市民「尽くしたい派」/ ウルフ「尽くされたい派」

### 勝利条件

- **市民の勝利**: 投票でウルフを見つけ出す
- **ウルフの勝利**: 最後まで正体がバレない

## 🏗️ 技術スタック

- **Next.js 14** - App Router使用
- **React 18** - UI構築
- **TypeScript** - 型安全性
- **Tailwind CSS** - スタイリング
- **lucide-react** - アイコン
- **localStorage** - 状態管理

## 📂 プロジェクト構造

```
wordwolf-dev/
├── app/
│   ├── admin/          # 管理者ページ
│   ├── join/           # プレイヤー参加ページ
│   ├── player/[id]/    # プレイヤー個人ページ
│   ├── layout.tsx      # ルートレイアウト
│   └── page.tsx        # ホームページ（/joinにリダイレクト）
├── components/
│   ├── AsahiKun.tsx         # あさひくんキャラクター
│   └── ResultDisplay.tsx    # 結果表示コンポーネント
├── lib/
│   ├── types.ts             # TypeScript型定義
│   ├── game-storage.ts      # ゲーム状態管理
│   └── hooks.ts             # カスタムフック
├── public/
│   ├── manifest.json   # PWAマニフェスト
│   └── sw.js          # Service Worker
└── package.json
```

## 🎨 カスタマイズ

### お題の追加

`lib/game-storage.ts` の `TOPICS` 配列にお題を追加できます：

```typescript
export const TOPICS: TopicSet[] = [
  { id: 1, name: '学生', citizen: 'テスト期間', wolf: '夏休み' },
  // 新しいお題を追加
  { id: 4, name: 'あなたのお題', citizen: '市民のお題', wolf: 'ウルフのお題' },
];
```

### タイマー時間の変更

`lib/game-storage.ts` の `createGameSession` と `startGame` 関数で時間を変更：

```typescript
timer: 600,  // 600秒 = 10分
```

### チームサイズの調整

`lib/game-storage.ts` の `shuffleTeams` 関数で調整：

```typescript
const numTeams = Math.max(1, Math.floor(shuffled.length / 3)); // 3人ずつのチーム
```

## 🐛 トラブルシューティング

### ゲームが開始できない

- 最低4人のプレイヤーが必要です
- ページをリロードしてみてください

### プレイヤーが表示されない

- ローカルストレージがクリアされている可能性があります
- もう一度参加してください

### 投票が反映されない

- ページを更新してください
- 状態は自動的に同期されます

## 📝 今後の改善案

- [ ] リアルタイム同期（WebSocket/Firebase）
- [ ] QRコード生成機能
- [ ] カスタムお題作成機能
- [ ] ゲーム履歴の保存
- [ ] 統計情報の表示
- [ ] 音声・効果音の追加
- [ ] 多言語対応

## 📄 ライセンス

このプロジェクトは個人用・教育用です。

## 👨‍💻 開発者

あさひくんと一緒に楽しいワードウルフゲームを！🎉
